<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cCOP Staking</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container py-4">
        <header class="mb-4">
            <nav class="navbar navbar-expand-lg navbar-light bg-light rounded-3 shadow-sm p-3">
                <div class="container-fluid">
                    <h1 class="navbar-brand mb-0 h1">cCOP Staking</h1>
                    <div id="wallet-container">
                        <button id="connect-button" class="btn btn-primary">
                            <i class="bi bi-wallet2"></i> Conectar Wallet
                        </button>
                        <div id="user-info" style="display: none;" class="d-flex align-items-center">
                            <p id="wallet-address" class="mb-0 me-3"></p>
                            <div id="user-details" class="me-3"></div>
                            <button id="disconnect-button" class="btn btn-outline-danger">
                                Desconectar
                            </button>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <main id="staking-container" style="display: none;">
            <section class="staking-form card shadow-sm mb-4">
                <div class="card-body">
                    <h2 class="card-title">Nuevo Staking</h2>
                    <div class="form-group mb-3">
                        <label for="amount" class="form-label">Cantidad:</label>
                        <input type="number" id="amount" class="form-control" min="0" step="0.01">
                    </div>
                    <div class="form-group mb-3">
                        <label for="duration" class="form-label">Duración (días):</label>
                        <select id="duration" class="form-select">
                            <option value="30">30 días</option>
                            <option value="60">60 días</option>
                            <option value="90">90 días</option>
                        </select>
                    </div>
                    <div class="d-grid gap-2">
                        <button id="approve-button" class="btn btn-warning">Aprobar Tokens</button>
                        <button id="stake-button" class="btn btn-success">Hacer Stake</button>
                    </div>
                </div>
            </section>

            <section class="stakes-list">
                <h2 class="mb-4">Mis Stakes</h2>
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card shadow-sm">
                            <div class="card-body">
                                <h3 class="card-title h5">Total Stakeado</h3>
                                <p id="total-staked" class="h3 mb-0">0 cCOP</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card shadow-sm">
                            <div class="card-body">
                                <h3 class="card-title h5">Recompensas Pendientes</h3>
                                <p id="pending-rewards" class="h3 mb-0">0 cCOP</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <select id="stakes-filter" class="form-select">
                        <option value="all">Todos los Stakes</option>
                        <option value="active">Stakes Activos</option>
                        <option value="completed">Stakes Completados</option>
                    </select>
                </div>

                <div id="stakes-container" class="row g-4">
                    <template id="stake-template">
                        <div class="col-md-6 col-lg-4">
                            <div class="stake-card card shadow-sm">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h3 class="mb-0">Stake #<span class="stake-id"></span></h3>
                                    <span class="stake-status badge"></span>
                                </div>
                                <div class="card-body">
                                    <div class="info-row mb-2">
                                        <strong>Cantidad:</strong>
                                        <span class="stake-amount"></span>
                                    </div>
                                    <div class="info-row mb-2">
                                        <strong>Inicio:</strong>
                                        <span class="stake-start"></span>
                                    </div>
                                    <div class="info-row mb-2">
                                        <strong>Duración:</strong>
                                        <span class="stake-duration"></span>
                                    </div>
                                    <div class="info-row mb-2">
                                        <strong>Finaliza:</strong>
                                        <span class="stake-end"></span>
                                    </div>
                                    <div class="info-row mb-2">
                                        <strong>APY:</strong>
                                        <span class="stake-apy badge bg-success"></span>
                                    </div>
                                    <div class="info-row rewards mb-3">
                                        <strong>Recompensas:</strong>
                                        <span class="stake-rewards text-success"></span>
                                    </div>
                                    <div class="d-grid gap-2">
                                        <button class="unstake-button btn btn-danger">Retirar Stake</button>
                                        <button class="claim-rewards-button btn btn-success">Reclamar Recompensas</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>

                <div id="no-stakes-message" style="display: none;" class="alert alert-info mt-4">
                    <p class="mb-0">No tienes stakes activos. ¡Comienza a stakear tus cCOP ahora!</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Bootstrap Bundle con Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.ethers.io/lib/ethers-5.7.2.umd.min.js" type="application/javascript"></script>
    <script type="module" src="app.js"></script>
</body>
</html> 